<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
</head>
<body>
<nav>
  <a href="/">home</a>
  <a href="/intro">intro</a>
  <a href="/dept/">dept</a>
  <a href="/login/">login</a>
</nav>
<hr/>
<div class="container">
  <h2>page</h2>
    <form>
        <div class="form-group">
            <input type="text" name="deptno" class="form-control" >
        </div>
        <div class="form-group">
            <input type="text" name="dname" class="form-control" >
        </div>
        <div class="form-group">
            <input type="text" name="loc" class="form-control" >
        </div>
        <div class="form-group">
            <button class="btn btn-primary btn-block">입력</button>
        </div>
    </form>
    <script type="text/javascript">
        const form=document.querySelector('form')
        const [input1,input2,input3]=form.querySelectorAll('input')
        form.onsubmit=e=>{
            e.preventDefault();
            console.log('입력',input1,input2,input3);
            fetch('/dept/',{
                method:'POST',
                body:JSON.stringify({'deptno':input1.value,'dname':input2.value,'loc':input3.value}),
                headers: {
                "Content-Type": "application/json"
                }
            }).then(e=>e.json()).then(e=>location.href='/dept/').catch(alert)
        };
    </script>
</div>
</body>
</html>